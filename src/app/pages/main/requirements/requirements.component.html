<body>
  <div class="container">
    <div class="header">
      <div class="header-content">
        <div>
          <h1>Requirements</h1>
          <p>Upload and manage your required documents</p>
        </div>
        <button class="btn-instructions" (click)="visible = true">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          View Instructions
        </button>
      </div>
    </div>

    <div class="table-container">
      <div class="table-header">
        <div class="table-header-cell">Name</div>
        <div class="table-header-cell">File Name</div>
        <div class="table-header-cell">Date Upload</div>
        <div class="table-header-cell">Reason for not accepting</div>
        <div class="table-header-cell">Status</div>
        <div class="table-header-cell">Action</div>
      </div>

      <div class="table-body">
        <!-- NBI Clearance -->
        <div class="table-row" *ngFor="let hrmsreq of getHrmsReq">
          <div class="table-cell">
            <div class="doc-info">
              <div class="doc-icon">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                  />
                </svg>
              </div>
              <div class="doc-details">
                <div class="doc-name">{{ hrmsreq.checkListName }}</div>
                <div class="doc-subtitle">Required document</div>
              </div>
            </div>
          </div>
          <div class="table-cell" data-label="File Name">
            {{ hrmsreq.fileName }}
          </div>
          <div class="table-cell" data-label="Date Upload">
            {{ hrmsreq.dateUpload }}
          </div>
          <div class="table-cell" data-label="Reason for not accepting">
            {{ hrmsreq.remarks }}
          </div>
          <div class="table-cell" data-label="Status">
            <span
              *ngIf="hrmsreq.status"
              class="status-badge"
              [ngClass]="{
                'status-approved': hrmsreq.status === 'Approved',
                'status-pending': hrmsreq.status === 'Pending'
              }"
            >
              {{ hrmsreq.status }}
            </span>
          </div>
          <div class="table-cell" data-label="Action">
            <div class="action-buttons">
              <!-- Preview button -->
              <button
                class="btn btn-preview"
                (click)="openRequirement(hrmsreq)"
              >
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  />
                </svg>
                Preview
              </button>

              <!-- Upload button (triggers hidden input) -->
              <button
                type="button"
                class="btn btn-upload"
                (click)="fileInput.click()"
              >
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"
                  />
                </svg>
                Upload
              </button>

              <!-- Hidden file input -->
              <input
                #fileInput
                type="file"
                accept=".png,.jpg,.jpeg,.pdf"
                (change)="onFileSelected($event, hrmsreq.id)"
                class="file-hidden"
                hidden
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="summary-cards">
      <div class="summary-card green">
        <div class="summary-content">
          <div class="summary-text">
            <p class="summary-label">Approved</p>
            <p class="summary-count">1</p>
          </div>
          <div class="summary-icon green">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 13l4 4L19 7"
              />
            </svg>
          </div>
        </div>
      </div>

      <div class="summary-card blue">
        <div class="summary-content">
          <div class="summary-text">
            <p class="summary-label">Under Review</p>
            <p class="summary-count">1</p>
          </div>
          <div class="summary-icon blue">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
          </div>
        </div>
      </div>

      <div class="summary-card yellow">
        <div class="summary-content">
          <div class="summary-text">
            <p class="summary-label">Pending</p>
            <p class="summary-count">2</p>
          </div>
          <div class="summary-icon yellow">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
          </div>
        </div>
      </div>

      <div class="summary-card red">
        <div class="summary-content">
          <div class="summary-text">
            <p class="summary-label">Rejected</p>
            <p class="summary-count">1</p>
          </div>
          <div class="summary-icon red">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </div>
        </div>
      </div>
    </div> -->
  </div>
</body>

<p-dialog
  header="Document Submission Instructions"
  [(visible)]="visible"
  [modal]="true"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  [style]="{ width: '50vw' }"
  [draggable]="false"
  [resizable]="false"
  [appendTo]="'body'"
  [maximizable]="true"
>
  <div class="instructions">
    <p class="intro">
      Follow these steps to submit your requirements correctly and on time,
      <strong>please read carefully!</strong>
    </p>

    <ol>
      <li>
        <strong>Scan/photograph.</strong> Take a photo for each document, ensure
        legible text and signatures and save as PDF.
      </li>
      <li>
        <strong>Follow file restrictions.</strong> The uploaded file must not
        exceed <strong>25MB</strong>, accepted formats are <code>PDF</code> and
        <code>JPG</code>.
      </li>
      <li>
        <strong>Name files clearly.</strong> Use consistent, clear names.<br />
        Format should be:
        <code>NAME OF DOCUMENT_LAST NAME, FIRST NAME, MIDDLE INITIAL</code>
        <br />
        Example:<br />
        <em>APPLICATION LETTER_DELA CRUZ, JUAN C.</em>
      </li>
      <li>
        <strong>Choose Proper file.</strong> Attach each file to the portal.
        Double-check attachments before uploading them.
      </li>
      <li>
        <strong>Additional Requirements.</strong> This will vary depending on
        the applicant's case. Refer to the official instructions provided by the
        Hiring Team.
      </li>
      <li>
        <strong>Complete all required documents.</strong> Take a screenshot of
        the confirmation page.
      </li>
      <li>
        <strong>Submit hard copies.</strong> All uploaded documents must be
        submitted during onboarding to the
        <em>Hiring and Recruitment Section</em>, Brigada Complex, NLSA Rd. Purok
        Bayanihan, Brgy. San Isidro, General Santos City. Place them inside a
        <span class="highlight1">yellow folder</span> and insert into a
        <span class="highlight">red expanded envelope</span>.
      </li>
    </ol>

    <p class="note">
      ⚠️ <strong>Important:</strong> Documents with missing parts, unsigned,
      blurry, or incorrect format will not be accepted. Ensure that all
      requirements are accurate and properly labeled. Submit all requirements
      <u>within 3 days after accepting the Job Offer</u> so we can process your
      application smoothly.
    </p>

    <p class="closing">
      This is one step closer to the next stage. Let's keep the process quick
      and easy!
    </p>
  </div>
</p-dialog>
